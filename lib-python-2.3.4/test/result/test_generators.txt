command: /usr/bin/python /home/arigo/pypysrc/pypy/tool/alarm.py 900 /home/arigo/pypysrc/pypy/interpreter/py.py --oldstyle /home/arigo/pypysrc/lib-python-2.3.4/test/test_generators.py
run by: arigo@tismerysoft.de
sys.platform: linux2
sys.version_info: (2, 3, 5, 'final', 0)
startdate: Thu Apr 28 01:31:42 2005
pypy-revision: 11518
============================================================
faking <type 'unicode'>
faking <type 'module'>
faking <type 'file'>
faking <type '_sre.SRE_Pattern'>
faking <type 'function'>
faking <type 'instancemethod'>
faking <type 'posix.stat_result'>
faking <type 'posix.statvfs_result'>
faking <type '_sre.SRE_Match'>
*****************************************************************
Failure in example: type(g)
from line #78 of test.test_generators.__test__.email
Expected: <type 'function'>
Got: <pypy type 'function'>
*****************************************************************
Failure in example: type(i)
from line #81 of test.test_generators.__test__.email
Expected: <type 'generator'>
Got: <pypy type 'generator'>
*****************************************************************
Failure in example: print i.next.__doc__
from line #85 of test.test_generators.__test__.email
Expected: x.next() -> the next value, or raise StopIteration
Got: None
*****************************************************************
Failure in example: type(i.gi_frame)
from line #97 of test.test_generators.__test__.email
Expected: <type 'frame'>
Got: <pypy type 'frame'>
*****************************************************************
Failure in example: i.gi_running = 42
from line #99 of test.test_generators.__test__.email
Expected: TypeError: readonly attribute
Got: TypeError: read-only attribute
*****************************************************************
Failure in example: gen = random.WichmannHill(42)
from line #146 of test.test_generators.__test__.email
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
AttributeError: 'module' object has no attribute 'WichmannHill'
*****************************************************************
Failure in example:
while 1:
    for s in sets:
        print "%s->%s" % (s, s.find()),
    print
    if len(roots) > 1:
        s1 = gen.choice(roots)
        roots.remove(s1)
        s2 = gen.choice(roots)
        s1.union(s2)
        print "merged", s1, "into", s2
    else:
        break
from line #147 of test.test_generators.__test__.email
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 6, in ?
NameError: global name 'gen' is not defined
*****************************************************************
Failure in example: k.next()
from line #52 of test.test_generators.__test__.pep
Expected: ZeroDivisionError: integer division or modulo by zero
Got: ZeroDivisionError: integer division by zero
*****************************************************************
Failure in example:
def f():
    return 22
    yield 1
from line #2 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'return' with argument inside generator (<string>, line 2)
Got:
SyntaxError: args=("'return' with argument inside generator (<string>, line 2)",)
*****************************************************************
Failure in example:
def f():
    yield 1
    return 22
from line #9 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'return' with argument inside generator (<string>, line 3)
Got:
SyntaxError: args=("'return' with argument inside generator (<string>, line 3)",)
*****************************************************************
Failure in example:
def f():
    yield 1
    return None
from line #18 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'return' with argument inside generator (<string>, line 3)
Got:
SyntaxError: args=("'return' with argument inside generator (<string>, line 3)",)
*****************************************************************
Failure in example:
def f():
    try:
        yield 1
    finally:
        pass
from line #31 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'yield' not allowed in a 'try' block with a 'finally' clause (<string>, line 3)
Got:
SyntaxError: args=("'yield' not allowed in a 'try' block with a 'finally' clause (<string>, line 3)",)
*****************************************************************
Failure in example:
def f():
    try:
        try:
            1//0
        except ZeroDivisionError:
            yield 666  # bad because *outer* try has finally
        except:
            pass
    finally:
        pass
from line #40 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'yield' not allowed in a 'try' block with a 'finally' clause (<string>, line 6)
Got:
SyntaxError: args=("'yield' not allowed in a 'try' block with a 'finally' clause (<string>, line 6)",)
*****************************************************************
Failure in example:
def f():
   yield
from line #73 of test.test_generators.__test__.syntax
Expected: SyntaxError: invalid syntax
Got: SyntaxError: args=('invalid syntax (<string>, line 2)',)
*****************************************************************
Failure in example:
def f():
   if 0:
       yield
from line #78 of test.test_generators.__test__.syntax
Expected: SyntaxError: invalid syntax
Got: SyntaxError: args=('invalid syntax (<string>, line 3)',)
*****************************************************************
Failure in example: type(f())
from line #87 of test.test_generators.__test__.syntax
Expected: <type 'generator'>
Got: <pypy type 'generator'>
*****************************************************************
Failure in example: type(f())
from line #93 of test.test_generators.__test__.syntax
Expected: <type 'generator'>
Got: <pypy type 'generator'>
*****************************************************************
Failure in example: type(f())
from line #117 of test.test_generators.__test__.syntax
Expected: <type 'generator'>
Got: <pypy type 'generator'>
*****************************************************************
Failure in example: type(f())
from line #125 of test.test_generators.__test__.syntax
Expected: <type 'NoneType'>
Got: <pypy type 'NoneType'>
*****************************************************************
Failure in example: type(f())
from line #135 of test.test_generators.__test__.syntax
Expected: <type 'NoneType'>
Got: <pypy type 'NoneType'>
*****************************************************************
Failure in example: type(f())
from line #143 of test.test_generators.__test__.syntax
Expected: <type 'generator'>
Got: <pypy type 'generator'>
*****************************************************************
Failure in example:
def f():
    if 0:
        lambda x:  x        # shouldn't trigger here
        return              # or here
        def f(i):
            return 2*i      # or here
        if 0:
            return 3        # but *this* sucks (line 8)
    if 0:
        yield 2             # because it's a generator
from line #147 of test.test_generators.__test__.syntax
Expected:
SyntaxError: 'return' with argument inside generator (<string>, line 8)
Got:
SyntaxError: args=("'return' with argument inside generator (<string>, line 8)",)
*****************************************************************
Failure in example: import weakref
from line #2 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
  File "/home/arigo/pypysrc/lib-python-2.3.4/weakref.py", line 14, in ?
    from _weakref import \
ImportError: _weakref
*****************************************************************
Failure in example: wr = weakref.ref(gen)
from line #6 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'weakref' is not defined
*****************************************************************
Failure in example: wr() is gen
from line #7 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'wr' is not defined
*****************************************************************
FailTraceback (application-level):
  File "/home/arigo/pypysrc/lib-python-2.3.4/test/test_generators.py", line 1412 in ?
    test_main(1)
  File "/home/arigo/pypysrc/lib-python-2.3.4/test/test_generators.py", line 1408 in test_main
        test_support.run_doctest(test_generators, verbose)
  File "/home/arigo/pypysrc/lib-python-2.3.4/test/test_support.py", line 290 in run_doctest
            raise TestFailed("%d of %d doctests failed" % (f, t))
TestFailed: 30 of 152 doctests failed
ure in example: p = weakref.proxy(gen)
from line #9 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'weakref' is not defined
*****************************************************************
Failure in example: wr = weakref.ref(gi)
from line #14 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'weakref' is not defined
*****************************************************************
Failure in example: wr() is gi
from line #15 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'wr' is not defined
*****************************************************************
Failure in example: p = weakref.proxy(gi)
from line #17 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'weakref' is not defined
*****************************************************************
Failure in example: list(p)
from line #18 of test.test_generators.__test__.weakref
Exception raised:
Traceback (most recent call last):
  File "/home/arigo/pypysrc/lib-python-2.3.4/doctest.py", line 442, in _run_examples_inner
    compileflags, 1) in globs
  File "<string>", line 1, in ?
NameError: global name 'p' is not defined
*****************************************************************
4 items had failures:
   7 of  31 in test.test_generators.__test__.email
   1 of  20 in test.test_generators.__test__.pep
  14 of  29 in test.test_generators.__test__.syntax
   8 of  10 in test.test_generators.__test__.weakref
***Test Failed*** 30 failures.
========================== closed ==========================
execution time: 865.736933947 seconds
exit status: 1
