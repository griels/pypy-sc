#!/usr/bin/python 
from __future__ import generators

import sys, os
from py.path import local 

def search_path(item):
    dirs = [os.curdir]
    PYTHONPATH = os.getenv('PYTHONPATH')
    dirs.extend(PYTHONPATH.split(':'))
    dirs.extend(sys.path)
    results = {}
    for fn in dirs: 
        p = local(fn) 
        # XXX zip files
        pyfile = p.join(item).new(ext='.py') 
        if pyfile.check(file=1) and pyfile not in results:
            results[pyfile] = 1
            yield pyfile 

        pydir = p.join(item)
        if pydir.check(dir=1) and pydir.join('__init__.py').check() and pydir not in results:
            results[pydir] = 1
            yield pydir 

if __name__ == '__main__':
    item = sys.argv[1]
    for x in search_path(item):
        print x
    
